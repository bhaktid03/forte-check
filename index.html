<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Forte Checkout Sandbox Test</title>
  <script src="https://sandbox.forte.net/checkout/v2/js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
  <script>
    // WARNING: Never expose your Secure Key in production! This is for sandbox/testing only.
    function generateSignature() {
      var api_secure_key = "59383be0025b296feff007703e037b54";
      var string_to_sign = "3a3666ba616b466c3b9339da0c01d2cf|sale|2.0|10.00|638887631917920000|TESTORDER123||";
      var signature = CryptoJS.HmacSHA256(string_to_sign, api_secure_key).toString(CryptoJS.enc.Hex);
      return signature;
    }
    function openForteCheckoutSandbox() {
      alert("Function called!");
      if (typeof ForteCheckout === 'undefined') {
        alert("ForteCheckout not loaded yet!");
        setTimeout(openForteCheckoutSandbox, 100);
        return;
      }
      alert("ForteCheckout loaded, opening modal...");
      ForteCheckout.open({
        api_access_id: "3a3666ba616b466c3b9339da0c01d2cf",
        signature: generateSignature(),
        method: "sale",
        version_number: "2.0",
        location_id: "400842",
        organization_id: "499208",
        utc_time: "638887631917920000",
        total_amount: "10.00",
        order_number: "TESTORDER123",
        allowed_methods: "visa,mast,disc,amex,echeck",
        callback: "onForteCallback",
        hash_method: "sha256"
      });
    }
    function onForteCallback(e) {
      alert(JSON.stringify(e.data || e));
    }
  </script>
</head>
<body onload="openForteCheckoutSandbox()">
  <h3>Loading payment...</h3>
  <!--
    Sandbox Testing Instructions:
    1. Generate the signature using your Secure Key and the correct string to sign.
    2. Get UTC ticks from https://sandbox.forte.net/checkout/getUTC?callback=?
    3. Paste both values above and reload this file in your WebView or browser.
  -->
</body>
</html> 
